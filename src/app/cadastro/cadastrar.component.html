<div class="container d-flex flex-column justify-content-center align-items-center vh-100 p-5">
  <!-- Toast para mensagens de sucesso/erro -->
  <ngb-toast *ngIf="toastMessage" [autohide]="true" [delay]="3000" class="position-fixed top-0 start-0 m-3"
             [class.bg-success]="toastType === 'success'" [class.bg-danger]="toastType === 'error'">
    {{ toastMessage }}
  </ngb-toast>

  <h1 class="mb-5 text-center">devBank - Cadastro</h1>
  <h3 class="mb-4">Passo {{ step }} de 6</h3>

  <div *ngIf="step === 1" class="d-flex flex-column gap-3 w-50 text-start">
    <label for="email" class="form-label">Email</label>
    <input type="email" id="email" class="form-control mb-3 border-0 border-bottom" [(ngModel)]="email" placeholder="Digite seu email" style="border-color: #004085;" />

    <label for="password" class="form-label">Senha</label>
    <input type="password" id="password" class="form-control mb-4 border-0 border-bottom" [(ngModel)]="password" placeholder="Digite sua senha" style="border-color: #004085;" />
  </div>

  <div *ngIf="step === 2" class="d-flex flex-column gap-3 w-50 text-start">
    <label for="tipoPessoa" class="form-label">Escolha o tipo de cadastro</label>
    <select id="tipoPessoa" class="form-control mb-4" [(ngModel)]="tipoPessoa" (change)="selecionarTipoPessoa()">
      <option value="" disabled selected>Selecione o tipo de cadastro</option>
      <option value="fisica">Pessoa Física (CPF)</option>
      <option value="juridica">Pessoa Jurídica (CNPJ)</option>
    </select>
  </div>

  <div *ngIf="step === 3 && tipoPessoa === 'fisica'" class="d-flex flex-column gap-3 w-50 text-start">
    <label for="cpf" class="form-label">CPF</label>
    <input type="text" id="cpf" class="form-control mb-3 border-0 border-bottom" [(ngModel)]="cpf" placeholder="Digite seu CPF" style="border-color: #004085;" />

    <label for="nome" class="form-label">Nome</label>
    <input type="text" id="nome" class="form-control mb-3 border-0 border-bottom" [(ngModel)]="nome" placeholder="Digite seu nome" style="border-color: #004085;" />

    <label for="idade" class="form-label">Idade</label>
    <input type="number" id="idade" class="form-control mb-4 border-0 border-bottom" [(ngModel)]="idade" placeholder="Digite sua idade" style="border-color: #004085;" />
  </div>

  <div *ngIf="step === 3 && tipoPessoa === 'juridica'" class="d-flex flex-column gap-3 w-50 text-start">
    <label for="cnpj" class="form-label">CNPJ</label>
    <input type="text" id="cnpj" class="form-control mb-3 border-0 border-bottom" [(ngModel)]="cnpj" placeholder="Digite seu CNPJ" style="border-color: #004085;" />

    <label for="razaoSocial" class="form-label">Razão Social</label>
    <input type="text" id="razaoSocial" class="form-control mb-3 border-0 border-bottom" [(ngModel)]="razaoSocial" placeholder="Digite a razão social" style="border-color: #004085;" />

    <label for="nomeFantasia" class="form-label">Nome Fantasia</label>
    <input type="text" id="nomeFantasia" class="form-control mb-4 border-0 border-bottom" [(ngModel)]="nomeFantasia" placeholder="Digite o nome fantasia" style="border-color: #004085;" />
  </div>

  <div *ngIf="step === 4" class="d-flex flex-column gap-3 w-50 text-start">
    <label for="telefone" class="form-label">Telefone</label>
    <input type="tel" id="telefone" class="form-control mb-4 border-0 border-bottom" [(ngModel)]="telefone" placeholder="Digite seu telefone" style="border-color: #004085;" />
  </div>

  <div *ngIf="step === 5" class="d-flex flex-column gap-3 w-50 text-start">
    <label for="cep" class="form-label">CEP</label>
    <input type="text" id="cep" class="form-control mb-4 border-0 border-bottom" [(ngModel)]="cep" placeholder="Digite seu CEP" style="border-color: #004085;" />
    <button type="button" class="btn btn-info w-100 py-3" (click)="buscarCep()" style="background-color: #17a2b8; border-color: #17a2b8;">Buscar CEP</button>
  </div>

  <div *ngIf="step === 6" class="d-flex flex-column gap-3 w-50 text-start">
    <label for="logradouro" class="form-label">Logradouro</label>
    <input type="text" id="logradouro" class="form-control mb-3 border-0 border-bottom" [(ngModel)]="logradouro" placeholder="Logradouro" style="border-color: #004085;" />

    <label for="numero" class="form-label">Número</label>
    <input type="text" id="numero" class="form-control mb-3 border-0 border-bottom" [(ngModel)]="numero" placeholder="Número" style="border-color: #004085;" />

    <label for="complemento" class="form-label">Complemento</label>
    <input type="text" id="complemento" class="form-control mb-3 border-0 border-bottom" [(ngModel)]="complemento" placeholder="Complemento (opcional)" style="border-color: #004085;" />

    <label for="bairro" class="form-label">Bairro</label>
    <input type="text" id="bairro" class="form-control mb-3 border-0 border-bottom" [(ngModel)]="bairro" placeholder="Bairro" style="border-color: #004085;" />

    <label for="cidade" class="form-label">Cidade</label>
    <input type="text" id="cidade" class="form-control mb-3 border-0 border-bottom" [(ngModel)]="cidade" placeholder="Cidade" style="border-color: #004085;" />

    <label for="estado" class="form-label">Estado</label>
    <input type="text" id="estado" class="form-control mb-4 border-0 border-bottom" [(ngModel)]="estado" placeholder="Estado" style="border-color: #004085;" />
  </div>

  <div class="d-flex gap-3 w-50 mt-4">
    <button *ngIf="step === 1" pButton type="button" class="btn btn-secondary w-50 py-3" routerLink="/" style="background-color: #6c757d; border-color: #6c757d;">Voltar para Home</button>
    <button *ngIf="step > 1" pButton type="button" class="btn btn-secondary w-50 py-3" (click)="voltarPasso()" style="background-color: #6c757d; border-color: #6c757d;">Voltar</button>
    <button *ngIf="step < 6" pButton type="button" class="btn btn-primary w-50 py-3" (click)="proximoPasso()" [disabled]="step === 2 && tipoPessoa === ''" style="background-color: #0069d9; border-color: #0069d9;">Próximo</button>
    <button *ngIf="step === 6" pButton type="button" class="btn btn-success w-50 py-3" (click)="cadastrar()" style="background-color: #0069d9; border-color: #0069d9;">Cadastrar</button>
  </div>
</div>
